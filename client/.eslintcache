[{"D:\\React\\ecommerce\\client\\src\\index.js":"1","D:\\React\\ecommerce\\client\\src\\App.js":"2","D:\\React\\ecommerce\\client\\src\\reportWebVitals.js":"3","D:\\React\\ecommerce\\client\\src\\pages\\Home.js":"4","D:\\React\\ecommerce\\client\\src\\pages\\auth\\Login.js":"5","D:\\React\\ecommerce\\client\\src\\pages\\auth\\Register.js":"6","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\Navbar.js":"7","D:\\React\\ecommerce\\client\\src\\firebase.js":"8","D:\\React\\ecommerce\\client\\src\\pages\\auth\\CompleteRegistration.js":"9","D:\\React\\ecommerce\\client\\src\\Reducers\\index.js":"10","D:\\React\\ecommerce\\client\\src\\Reducers\\userReducer.js":"11","D:\\React\\ecommerce\\client\\src\\pages\\auth\\ForgotPassword.js":"12","D:\\React\\ecommerce\\client\\src\\utils\\auth.js":"13","D:\\React\\ecommerce\\client\\src\\pages\\user\\History.js":"14","D:\\React\\ecommerce\\client\\src\\components\\Routes\\UserRoute.js":"15","D:\\React\\ecommerce\\client\\src\\components\\Routes\\LoadingToRedirect.js":"16","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\UserNav.js":"17","D:\\React\\ecommerce\\client\\src\\pages\\user\\Password.js":"18","D:\\React\\ecommerce\\client\\src\\pages\\user\\Wishlist.js":"19"},{"size":910,"mtime":1607773308948,"results":"20","hashOfConfig":"21"},{"size":2158,"mtime":1607888853722,"results":"22","hashOfConfig":"21"},{"size":362,"mtime":499162500000,"results":"23","hashOfConfig":"21"},{"size":149,"mtime":1607766179656,"results":"24","hashOfConfig":"21"},{"size":4857,"mtime":1608051188534,"results":"25","hashOfConfig":"21"},{"size":1570,"mtime":1607877460221,"results":"26","hashOfConfig":"21"},{"size":1694,"mtime":1607782434773,"results":"27","hashOfConfig":"21"},{"size":803,"mtime":1607843104848,"results":"28","hashOfConfig":"21"},{"size":2552,"mtime":1607879115492,"results":"29","hashOfConfig":"21"},{"size":183,"mtime":1607772940458,"results":"30","hashOfConfig":"21"},{"size":262,"mtime":1607773269659,"results":"31","hashOfConfig":"21"},{"size":1545,"mtime":1607785703991,"results":"32","hashOfConfig":"21"},{"size":440,"mtime":1607882487777,"results":"33","hashOfConfig":"21"},{"size":471,"mtime":1607888591564,"results":"34","hashOfConfig":"21"},{"size":523,"mtime":1607888010850,"results":"35","hashOfConfig":"21"},{"size":660,"mtime":1607888085648,"results":"36","hashOfConfig":"21"},{"size":690,"mtime":1607888712772,"results":"37","hashOfConfig":"21"},{"size":1647,"mtime":1608051224004,"results":"38","hashOfConfig":"21"},{"size":480,"mtime":1607888815027,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"1jjb977",{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"42"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54","usedDeprecatedRules":"42"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"42"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"42"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"42"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"42"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"42"},"D:\\React\\ecommerce\\client\\src\\index.js",[],["85","86"],"D:\\React\\ecommerce\\client\\src\\App.js",["87"],"import React, {useEffect} from 'react';\nimport {Route, Switch} from 'react-router-dom';\nimport { toast, ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Home from './pages/Home';\nimport Login from './pages/auth/Login';\nimport Register from './pages/auth/Register';\nimport History from './pages/user/History';\nimport CompleteRegistration from './pages/auth/CompleteRegistration';\nimport Navbar from './components/Navbar/Navbar';\nimport UserRoute from './components/Routes/UserRoute';\n\nimport {auth} from './firebase';\nimport {useDispatch} from 'react-redux';\nimport Forgotpassword from './pages/auth/ForgotPassword';\nimport {currentUser} from './utils/auth';\nimport Password from './pages/user/Password';\nimport WishList from './pages/user/Wishlist';\n\n\nfunction App() {\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged( async (user) => {\n      if(user){\n        const idTokenResult = await user.getIdTokenResult();\n        currentUser(idTokenResult.token)\n        .then(res => {\n          dispatch({\n            type: 'LOGGED_IN_USER',\n            payload: {\n              name: res.data.user.name,\n              email: res.data.user.email,\n              token: idTokenResult.token,\n              role: res.data.user.role,\n              _id: res.data.user._id\n            }\n          })\n        }).catch(err => {\n          toast.error(err.message);\n        })\n        \n      }\n  })\n    return unsubscribe;\n  }, [])\n\n  return (\n    <>\n    <Navbar />\n    <ToastContainer />\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/login\" component={Login} />\n      <Route exact path=\"/register\" component={Register} /> \n      <Route exact path=\"/register/complete\" component={CompleteRegistration} />\n      <Route exact path=\"/forgotpassword\" component={Forgotpassword} />\n      <UserRoute exact path=\"/user/history\" component={History} /> \n      <UserRoute exact path=\"/user/password\" component={Password} /> \n      <UserRoute exact path=\"/user/wishlist\" component={WishList} /> \n    </Switch>\n    </>\n  );\n}\n\nexport default App;\n","D:\\React\\ecommerce\\client\\src\\reportWebVitals.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\Home.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\auth\\Login.js",["88"],"D:\\React\\ecommerce\\client\\src\\pages\\auth\\Register.js",["89"],"import React, {useState, useEffect} from 'react';\r\nimport { auth } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Register = ({history}) => {\r\n    const [email, setEmail] = useState('')\r\n    const {user} = useSelector(state => ({...state}));\r\n    const submitHandler = async(e) => {\r\n        e.preventDefault();\r\n        const config = {\r\n            url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n            handleCodeInApp: true\r\n        }\r\n        await auth.sendSignInLinkToEmail(email, config);\r\n        toast.success(`Email is sent to ${email}. Click the link to complete your registration.`);\r\n        window.localStorage.setItem('emailForRegistration', email);\r\n        setEmail('');\r\n    }\r\n    const registerForm = () => {\r\n        return <form onSubmit={submitHandler}>\r\n            <input type=\"email\" className=\"form-control\" value={email} onChange={e => setEmail(e.target.value)} autoFocus placeholder=\"Your email\" />\r\n            <br/>\r\n            <button type=\"submit\" className=\"btn btn-raised\">Register</button>\r\n        </form>\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            history.push(\"/\") \r\n        }\r\n    }, [user]);\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Register</h4>\r\n                    {registerForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\Navbar.js",[],"D:\\React\\ecommerce\\client\\src\\firebase.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\auth\\CompleteRegistration.js",["90"],"import React, {useState, useEffect} from 'react';\r\nimport { auth } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {createOrUpdateUser} from '../../utils/auth';\r\n\r\nconst CompleteRegistration = ({history}) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const {user} = useSelector(state => ({...state}));\r\n    let dispatch = useDispatch();\r\n\r\n    const submitHandler = async(e) => {\r\n        e.preventDefault();\r\n        try{\r\n            const result = await auth.signInWithEmailLink(email, window.location.href);\r\n\r\n            if(result.user.emailVerified){\r\n                window.localStorage.removeItem(\"emailForRegistration\");\r\n                let user = auth.currentUser;\r\n                await user.updatePassword(password);\r\n                const idTokenResult = await user.getIdTokenResult();\r\n                createOrUpdateUser(idTokenResult.token)\r\n                .then(res => {\r\n                    dispatch({\r\n                        type: 'LOGGED_IN_USER',\r\n                        payload: {\r\n                            email: res.data.newUser.email,\r\n                            token: idTokenResult.token,\r\n                            role: res.data.newUser.role,\r\n                            _id: res.data.newUser._id,\r\n                            name: res.data.newUser.name\r\n                        }\r\n                    })\r\n                })\r\n                .catch(err => console.log(err.message))\r\n                history.push(\"/\");\r\n            }\r\n        }\r\n        catch(err){\r\n            toast.error(err.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setEmail(window.localStorage.getItem('emailForRegistration'));\r\n    }, [])\r\n    const registerForm = () => {\r\n        return <form onSubmit={submitHandler}>\r\n            <input type=\"email\" className=\"form-control\" value={email} disabled />\r\n            <input type=\"password\" className=\"form-control\" value={password} onChange={e => setPassword(e.target.value)} />\r\n            <button type=\"submit\" className=\"btn btn-raised\">Submit</button>\r\n        </form>\r\n    }\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Complete Registration</h4>\r\n                    {registerForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompleteRegistration;\r\n","D:\\React\\ecommerce\\client\\src\\Reducers\\index.js",[],"D:\\React\\ecommerce\\client\\src\\Reducers\\userReducer.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\auth\\ForgotPassword.js",["91","92"],"import React, { useState, useEffect } from 'react';\r\nimport { auth } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Forgotpassword = ({history}) => {\r\n    const [email, setEmail] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const {user} = useSelector(state => ({...state}));\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try{\r\n            const config = {\r\n                url: process.env.REACT_APP_FORGET_PASSWORD_REDIRECT_URL,\r\n                handleCodeInApp: true\r\n            }\r\n            await auth.sendPasswordResetEmail(email, config);\r\n            toast.success(\"Password reset link has been sent to the registered email address.\")\r\n        }\r\n        catch(err){\r\n            setLoading(false);\r\n            toast.error(err.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            history.push(\"/\") \r\n        }\r\n    }, [user]);\r\n    return (\r\n        <div className=\"container col-md-6 offset-md-3 p-5\">\r\n            <h4>Forgot Password</h4>\r\n            <form onSubmit={submitHandler}>\r\n                <input type=\"email\" className=\"form-control\" value={email} onChange={e => setEmail(e.target.value)} placeholder=\"Your email\" autoFocus />\r\n                <br />\r\n                <button className=\"btn btn-raised\" disabled={!email}>Submit</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Forgotpassword;","D:\\React\\ecommerce\\client\\src\\utils\\auth.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\user\\History.js",[],"D:\\React\\ecommerce\\client\\src\\components\\Routes\\UserRoute.js",["93"],"import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\n\r\nimport LoadingToRedirect from './LoadingToRedirect';\r\n\r\nexport default function PrivateRoute({component: Component, ...rest}) {\r\n    const {user} = useSelector(state => ({...state}))    \r\n    return (\r\n        <Route\r\n          {...rest}\r\n          render={props => {\r\n            return user && user.token ? <Component {...props} /> : <LoadingToRedirect />\r\n          }}\r\n        ></Route>\r\n    )\r\n}","D:\\React\\ecommerce\\client\\src\\components\\Routes\\LoadingToRedirect.js",["94"],"import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst LoadingToRedirect = () => {\r\n    const [count, setCount] = useState(5);\r\n    let history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            setCount(currCount => --currCount);\r\n        }, 1000); \r\n        count === 1 && history.push('/');\r\n        \r\n        return () => clearInterval(interval);\r\n    }, [count]);\r\n\r\n    return (\r\n        <div className=\"container p-5 text-center\">\r\n            <p>Redirecting you in {count} seconds</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingToRedirect;\r\n","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\UserNav.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\user\\Password.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\user\\Wishlist.js",[],{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","severity":1,"message":"100","line":48,"column":6,"nodeType":"101","endLine":48,"endColumn":8,"suggestions":"102"},{"ruleId":"99","severity":1,"message":"103","line":89,"column":8,"nodeType":"101","endLine":89,"endColumn":14,"suggestions":"104"},{"ruleId":"99","severity":1,"message":"103","line":32,"column":8,"nodeType":"101","endLine":32,"endColumn":14,"suggestions":"105"},{"ruleId":"106","severity":1,"message":"107","line":10,"column":12,"nodeType":"108","messageId":"109","endLine":10,"endColumn":16},{"ruleId":"106","severity":1,"message":"110","line":8,"column":12,"nodeType":"108","messageId":"109","endLine":8,"endColumn":19},{"ruleId":"99","severity":1,"message":"103","line":31,"column":8,"nodeType":"101","endLine":31,"endColumn":14,"suggestions":"111"},{"ruleId":"106","severity":1,"message":"112","line":2,"column":16,"nodeType":"108","messageId":"109","endLine":2,"endColumn":24},{"ruleId":"99","severity":1,"message":"103","line":15,"column":8,"nodeType":"101","endLine":15,"endColumn":15,"suggestions":"113"},"no-native-reassign",["114"],"no-negated-in-lhs",["115"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["116"],"React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["117"],["118"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'loading' is assigned a value but never used.",["119"],"'Redirect' is defined but never used.",["120"],"no-global-assign","no-unsafe-negation",{"desc":"121","fix":"122"},{"desc":"123","fix":"124"},{"desc":"123","fix":"125"},{"desc":"123","fix":"126"},{"desc":"127","fix":"128"},"Update the dependencies array to be: [dispatch]",{"range":"129","text":"130"},"Update the dependencies array to be: [history, user]",{"range":"131","text":"132"},{"range":"133","text":"132"},{"range":"134","text":"132"},"Update the dependencies array to be: [count, history]",{"range":"135","text":"136"},[1510,1512],"[dispatch]",[3122,3128],"[history, user]",[1238,1244],[1032,1038],[462,469],"[count, history]"]