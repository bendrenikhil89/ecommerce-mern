[{"D:\\React\\ecommerce\\client\\src\\index.js":"1","D:\\React\\ecommerce\\client\\src\\App.js":"2","D:\\React\\ecommerce\\client\\src\\reportWebVitals.js":"3","D:\\React\\ecommerce\\client\\src\\pages\\Home.js":"4","D:\\React\\ecommerce\\client\\src\\pages\\auth\\Login.js":"5","D:\\React\\ecommerce\\client\\src\\pages\\auth\\Register.js":"6","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\Navbar.js":"7","D:\\React\\ecommerce\\client\\src\\firebase.js":"8","D:\\React\\ecommerce\\client\\src\\pages\\auth\\CompleteRegistration.js":"9","D:\\React\\ecommerce\\client\\src\\Reducers\\index.js":"10","D:\\React\\ecommerce\\client\\src\\Reducers\\userReducer.js":"11","D:\\React\\ecommerce\\client\\src\\pages\\auth\\ForgotPassword.js":"12","D:\\React\\ecommerce\\client\\src\\utils\\auth.js":"13","D:\\React\\ecommerce\\client\\src\\pages\\user\\History.js":"14","D:\\React\\ecommerce\\client\\src\\components\\Routes\\UserRoute.js":"15","D:\\React\\ecommerce\\client\\src\\components\\Routes\\LoadingToRedirect.js":"16","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\UserNav.js":"17","D:\\React\\ecommerce\\client\\src\\pages\\user\\Password.js":"18","D:\\React\\ecommerce\\client\\src\\pages\\user\\Wishlist.js":"19","D:\\React\\ecommerce\\client\\src\\components\\Routes\\AdminRoute.js":"20","D:\\React\\ecommerce\\client\\src\\pages\\admin\\AdminDashboard.js":"21","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\AdminNav.js":"22","D:\\React\\ecommerce\\client\\src\\pages\\admin\\category\\CategoryCreate.js":"23","D:\\React\\ecommerce\\client\\src\\utils\\category.js":"24","D:\\React\\ecommerce\\client\\src\\pages\\admin\\category\\CategoryUpdate.js":"25","D:\\React\\ecommerce\\client\\src\\components\\Forms\\CategoryForm.js":"26","D:\\React\\ecommerce\\client\\src\\components\\Forms\\LocalSearch.js":"27"},{"size":910,"mtime":1607773308948,"results":"28","hashOfConfig":"29"},{"size":2648,"mtime":1608209668102,"results":"30","hashOfConfig":"29"},{"size":362,"mtime":499162500000,"results":"31","hashOfConfig":"29"},{"size":149,"mtime":1607766179656,"results":"32","hashOfConfig":"29"},{"size":4857,"mtime":1608051188534,"results":"33","hashOfConfig":"29"},{"size":1570,"mtime":1607877460221,"results":"34","hashOfConfig":"29"},{"size":1795,"mtime":1608141811645,"results":"35","hashOfConfig":"29"},{"size":803,"mtime":1607843104848,"results":"36","hashOfConfig":"29"},{"size":2552,"mtime":1607879115492,"results":"37","hashOfConfig":"29"},{"size":183,"mtime":1607772940458,"results":"38","hashOfConfig":"29"},{"size":262,"mtime":1607773269659,"results":"39","hashOfConfig":"29"},{"size":1545,"mtime":1607785703991,"results":"40","hashOfConfig":"29"},{"size":643,"mtime":1608052153055,"results":"41","hashOfConfig":"29"},{"size":471,"mtime":1607888591564,"results":"42","hashOfConfig":"29"},{"size":523,"mtime":1607888010850,"results":"43","hashOfConfig":"29"},{"size":660,"mtime":1607888085648,"results":"44","hashOfConfig":"29"},{"size":690,"mtime":1607888712772,"results":"45","hashOfConfig":"29"},{"size":1647,"mtime":1608051224004,"results":"46","hashOfConfig":"29"},{"size":480,"mtime":1607888815027,"results":"47","hashOfConfig":"29"},{"size":1014,"mtime":1608052595135,"results":"48","hashOfConfig":"29"},{"size":494,"mtime":1608142308243,"results":"49","hashOfConfig":"29"},{"size":1295,"mtime":1608142100320,"results":"50","hashOfConfig":"29"},{"size":3296,"mtime":1608213393321,"results":"51","hashOfConfig":"29"},{"size":817,"mtime":1608210672975,"results":"52","hashOfConfig":"29"},{"size":1790,"mtime":1608211250516,"results":"53","hashOfConfig":"29"},{"size":678,"mtime":1608211191487,"results":"54","hashOfConfig":"29"},{"size":424,"mtime":1608213376715,"results":"55","hashOfConfig":"29"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"1jjb977",{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"58"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68","usedDeprecatedRules":"58"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71","usedDeprecatedRules":"58"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"58"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85","usedDeprecatedRules":"58"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"58"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"58"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104","usedDeprecatedRules":"58"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"58"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"58"},"D:\\React\\ecommerce\\client\\src\\index.js",[],["120","121"],"D:\\React\\ecommerce\\client\\src\\App.js",["122"],"import React, {useEffect} from 'react';\nimport {Route, Switch} from 'react-router-dom';\nimport { toast, ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Home from './pages/Home';\nimport Login from './pages/auth/Login';\nimport Register from './pages/auth/Register';\nimport History from './pages/user/History';\nimport CompleteRegistration from './pages/auth/CompleteRegistration';\nimport Navbar from './components/Navbar/Navbar';\nimport UserRoute from './components/Routes/UserRoute';\nimport AdminRoute from './components/Routes/AdminRoute';\n\nimport {auth} from './firebase';\nimport {useDispatch} from 'react-redux';\nimport Forgotpassword from './pages/auth/ForgotPassword';\nimport {currentUser} from './utils/auth';\nimport Password from './pages/user/Password';\nimport WishList from './pages/user/Wishlist';\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport CategoryCreate from './pages/admin/category/CategoryCreate';\nimport CategoryUpdate from './pages/admin/category/CategoryUpdate';\n\n\nfunction App() {\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged( async (user) => {\n      if(user){\n        const idTokenResult = await user.getIdTokenResult();\n        currentUser(idTokenResult.token)\n        .then(res => {\n          dispatch({\n            type: 'LOGGED_IN_USER',\n            payload: {\n              name: res.data.user.name,\n              email: res.data.user.email,\n              token: idTokenResult.token,\n              role: res.data.user.role,\n              _id: res.data.user._id\n            }\n          })\n        }).catch(err => {\n          toast.error(err.message);\n        })\n        \n      }\n  })\n    return unsubscribe;\n  }, [])\n\n  return (\n    <>\n    <Navbar />\n    <ToastContainer />\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/login\" component={Login} />\n      <Route exact path=\"/register\" component={Register} /> \n      <Route exact path=\"/register/complete\" component={CompleteRegistration} />\n      <Route exact path=\"/forgotpassword\" component={Forgotpassword} />\n      <UserRoute exact path=\"/user/history\" component={History} /> \n      <UserRoute exact path=\"/user/password\" component={Password} /> \n      <UserRoute exact path=\"/user/wishlist\" component={WishList} />\n      <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\n      <AdminRoute exact path=\"/admin/category\" component={CategoryCreate} />\n      <AdminRoute exact path=\"/admin/category/:slug\" component={CategoryUpdate} /> \n    </Switch>\n    </>\n  );\n}\n\nexport default App;\n","D:\\React\\ecommerce\\client\\src\\reportWebVitals.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\Home.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\auth\\Login.js",["123"],"import React, {useState, useEffect} from 'react';\r\nimport { auth, googleAuthProvider } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { Button } from 'antd';\r\nimport { MailOutlined, GoogleOutlined } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport {createOrUpdateUser} from '../../utils/auth';\r\n\r\nconst Login = ({history}) => {\r\n    const [email, setEmail] = useState('burns121@gmail.com');\r\n    const [password, setPassword] = useState('C00lBurns');\r\n    const [loading, setLoading] = useState(false);\r\n    const {user} = useSelector(state => ({...state}));\r\n    let dispatch = useDispatch();\r\n\r\n    const roleBasedRedirect = res => {\r\n        if(res.data.user.role === 'admin'){\r\n            history.push('/admin/dashboard');\r\n        }\r\n        else {\r\n            history.push('/user/history');\r\n        }\r\n    }\r\n\r\n    const submitHandler = async(e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try{\r\n            const result = await auth.signInWithEmailAndPassword(email, password);\r\n            const {user} = result;\r\n            const idTokenResult = await user.getIdTokenResult();\r\n            createOrUpdateUser(idTokenResult.token)\r\n            .then(res => {\r\n                dispatch({\r\n                    type: 'LOGGED_IN_USER',\r\n                    payload: {\r\n                      name: res.data.user.name,\r\n                      email: res.data.user.email,\r\n                      token: idTokenResult.token,\r\n                      role: res.data.user.role,\r\n                      _id: res.data.user._id\r\n                    }\r\n                })\r\n                roleBasedRedirect(res);\r\n            })\r\n            .catch(err => toast.error(err.message))\r\n            // history.push(\"/\");\r\n        }\r\n        catch(err){\r\n            setLoading(false);\r\n            toast.error(err.message);\r\n        }\r\n    }\r\n\r\n    const googleLoginHandler = async() =>{\r\n        try{\r\n            let result = await auth.signInWithPopup(googleAuthProvider);\r\n            if(result){\r\n                const {user} = result;\r\n                const idTokenResult = await user.getIdTokenResult();\r\n                createOrUpdateUser(idTokenResult.token)\r\n                .then(res => {\r\n                    dispatch({\r\n                        type: 'LOGGED_IN_USER',\r\n                        payload: {\r\n                        name: res.data.user.name,\r\n                        email: res.data.user.email,\r\n                        token: idTokenResult.token,\r\n                        role: res.data.user.role,\r\n                        _id: res.data.user._id\r\n                        }\r\n                    })\r\n                    roleBasedRedirect(res);\r\n                })\r\n                .catch(err => toast.error(err.message))\r\n                // history.push(\"/\");\r\n             }\r\n        }\r\n        catch(err){\r\n            toast.error(err.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            history.push(\"/\") \r\n        }\r\n    }, [user]);\r\n\r\n    const loginForm = () => {\r\n        return <form onSubmit={submitHandler}>\r\n            <div className=\"form-group\">\r\n                <input type=\"email\" className=\"form-control\" value={email} onChange={e => setEmail(e.target.value)} autoFocus placeholder=\"Your email\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input type=\"password\" className=\"form-control\" value={password} onChange={e => setPassword(e.target.value)}  placeholder=\"Your password\"/>\r\n            </div>\r\n            <br/>\r\n            <Button \r\n                loading={loading} \r\n                onClick={submitHandler} \r\n                type=\"primary\" \r\n                block \r\n                shape=\"round\" \r\n                className=\"mb-3\" \r\n                icon={<MailOutlined />} \r\n                size=\"large\" \r\n                disabled={!email || password.length < 6}\r\n            >\r\n                Login\r\n            </Button>\r\n            <Button \r\n                onClick={googleLoginHandler} \r\n                type=\"danger\" \r\n                block \r\n                shape=\"round\"\r\n                className=\"mb-3\" \r\n                icon={<GoogleOutlined />} \r\n                size=\"large\" \r\n            >\r\n                Login with Google\r\n            </Button>\r\n            <Link to=\"/forgotpassword\" className=\"text-danger float-right\">Forgot Password</Link>\r\n        </form>\r\n    }\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Login</h4>\r\n                    {loginForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","D:\\React\\ecommerce\\client\\src\\pages\\auth\\Register.js",["124"],"import React, {useState, useEffect} from 'react';\r\nimport { auth } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Register = ({history}) => {\r\n    const [email, setEmail] = useState('')\r\n    const {user} = useSelector(state => ({...state}));\r\n    const submitHandler = async(e) => {\r\n        e.preventDefault();\r\n        const config = {\r\n            url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n            handleCodeInApp: true\r\n        }\r\n        await auth.sendSignInLinkToEmail(email, config);\r\n        toast.success(`Email is sent to ${email}. Click the link to complete your registration.`);\r\n        window.localStorage.setItem('emailForRegistration', email);\r\n        setEmail('');\r\n    }\r\n    const registerForm = () => {\r\n        return <form onSubmit={submitHandler}>\r\n            <input type=\"email\" className=\"form-control\" value={email} onChange={e => setEmail(e.target.value)} autoFocus placeholder=\"Your email\" />\r\n            <br/>\r\n            <button type=\"submit\" className=\"btn btn-raised\">Register</button>\r\n        </form>\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            history.push(\"/\") \r\n        }\r\n    }, [user]);\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Register</h4>\r\n                    {registerForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\Navbar.js",[],"D:\\React\\ecommerce\\client\\src\\firebase.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\auth\\CompleteRegistration.js",["125"],"import React, {useState, useEffect} from 'react';\r\nimport { auth } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {createOrUpdateUser} from '../../utils/auth';\r\n\r\nconst CompleteRegistration = ({history}) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const {user} = useSelector(state => ({...state}));\r\n    let dispatch = useDispatch();\r\n\r\n    const submitHandler = async(e) => {\r\n        e.preventDefault();\r\n        try{\r\n            const result = await auth.signInWithEmailLink(email, window.location.href);\r\n\r\n            if(result.user.emailVerified){\r\n                window.localStorage.removeItem(\"emailForRegistration\");\r\n                let user = auth.currentUser;\r\n                await user.updatePassword(password);\r\n                const idTokenResult = await user.getIdTokenResult();\r\n                createOrUpdateUser(idTokenResult.token)\r\n                .then(res => {\r\n                    dispatch({\r\n                        type: 'LOGGED_IN_USER',\r\n                        payload: {\r\n                            email: res.data.newUser.email,\r\n                            token: idTokenResult.token,\r\n                            role: res.data.newUser.role,\r\n                            _id: res.data.newUser._id,\r\n                            name: res.data.newUser.name\r\n                        }\r\n                    })\r\n                })\r\n                .catch(err => console.log(err.message))\r\n                history.push(\"/\");\r\n            }\r\n        }\r\n        catch(err){\r\n            toast.error(err.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setEmail(window.localStorage.getItem('emailForRegistration'));\r\n    }, [])\r\n    const registerForm = () => {\r\n        return <form onSubmit={submitHandler}>\r\n            <input type=\"email\" className=\"form-control\" value={email} disabled />\r\n            <input type=\"password\" className=\"form-control\" value={password} onChange={e => setPassword(e.target.value)} />\r\n            <button type=\"submit\" className=\"btn btn-raised\">Submit</button>\r\n        </form>\r\n    }\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Complete Registration</h4>\r\n                    {registerForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompleteRegistration;\r\n","D:\\React\\ecommerce\\client\\src\\Reducers\\index.js",[],"D:\\React\\ecommerce\\client\\src\\Reducers\\userReducer.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\auth\\ForgotPassword.js",["126","127"],"import React, { useState, useEffect } from 'react';\r\nimport { auth } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Forgotpassword = ({history}) => {\r\n    const [email, setEmail] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const {user} = useSelector(state => ({...state}));\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try{\r\n            const config = {\r\n                url: process.env.REACT_APP_FORGET_PASSWORD_REDIRECT_URL,\r\n                handleCodeInApp: true\r\n            }\r\n            await auth.sendPasswordResetEmail(email, config);\r\n            toast.success(\"Password reset link has been sent to the registered email address.\")\r\n        }\r\n        catch(err){\r\n            setLoading(false);\r\n            toast.error(err.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            history.push(\"/\") \r\n        }\r\n    }, [user]);\r\n    return (\r\n        <div className=\"container col-md-6 offset-md-3 p-5\">\r\n            <h4>Forgot Password</h4>\r\n            <form onSubmit={submitHandler}>\r\n                <input type=\"email\" className=\"form-control\" value={email} onChange={e => setEmail(e.target.value)} placeholder=\"Your email\" autoFocus />\r\n                <br />\r\n                <button className=\"btn btn-raised\" disabled={!email}>Submit</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Forgotpassword;","D:\\React\\ecommerce\\client\\src\\utils\\auth.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\user\\History.js",[],"D:\\React\\ecommerce\\client\\src\\components\\Routes\\UserRoute.js",["128"],"import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\n\r\nimport LoadingToRedirect from './LoadingToRedirect';\r\n\r\nexport default function PrivateRoute({component: Component, ...rest}) {\r\n    const {user} = useSelector(state => ({...state}))    \r\n    return (\r\n        <Route\r\n          {...rest}\r\n          render={props => {\r\n            return user && user.token ? <Component {...props} /> : <LoadingToRedirect />\r\n          }}\r\n        ></Route>\r\n    )\r\n}","D:\\React\\ecommerce\\client\\src\\components\\Routes\\LoadingToRedirect.js",["129"],"import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst LoadingToRedirect = () => {\r\n    const [count, setCount] = useState(5);\r\n    let history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            setCount(currCount => --currCount);\r\n        }, 1000); \r\n        count === 1 && history.push('/');\r\n        \r\n        return () => clearInterval(interval);\r\n    }, [count]);\r\n\r\n    return (\r\n        <div className=\"container p-5 text-center\">\r\n            <p>Redirecting you in {count} seconds</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingToRedirect;\r\n","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\UserNav.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\user\\Password.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\user\\Wishlist.js",[],"D:\\React\\ecommerce\\client\\src\\components\\Routes\\AdminRoute.js",["130"],"import React, { useEffect, useState} from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\nimport {currentAdmin} from '../../utils/auth';\r\n\r\nimport LoadingToRedirect from './LoadingToRedirect';\r\n\r\nexport default function AdminRoute({component: Component, ...rest}) {\r\n    const {user} = useSelector(state => ({...state}));\r\n    const [ok, setOk] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            currentAdmin(user.token)\r\n            .then(res => {\r\n                console.log(\"CURRENT ADMIN RES\", res);\r\n                setOk(true);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"ADMIN ROUTE ERROR\", err.message)\r\n                setOk(false);\r\n            })\r\n        }\r\n    }, [user]); \r\n    return (\r\n        <Route\r\n          {...rest}\r\n          render={props => {\r\n            return ok ? <Component {...props} /> : <LoadingToRedirect />\r\n          }}\r\n        ></Route>\r\n    )\r\n}","D:\\React\\ecommerce\\client\\src\\pages\\admin\\AdminDashboard.js",[],"D:\\React\\ecommerce\\client\\src\\components\\Navbar\\AdminNav.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\admin\\category\\CategoryCreate.js",[],"D:\\React\\ecommerce\\client\\src\\utils\\category.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\admin\\category\\CategoryUpdate.js",["131"],"import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/Navbar/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {getCategory, updateCategory} from \"../../../utils/category\";\r\nimport CategoryForm from '../../../components/Forms/CategoryForm';\r\n\r\nconst CategoryUpdate = ({history, match}) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n    loadCategory();  \r\n  }, []);\r\n\r\n   const loadCategory = () =>\r\n     getCategory(match.params.slug).then((c) => setName(c.data.name));\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    updateCategory(match.params.slug, { name }, user.token)\r\n      .then((res) => {\r\n        setLoading(false);\r\n        setName(\"\");\r\n        toast.success(`\"${res.data.name}\" is updated`);\r\n        history.push(\"/admin/category\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n        if (err.response.status === 400) toast.error(err.response.data);\r\n      });\r\n  };\r\n\r\n  const categoryForm = () => (\r\n    <CategoryForm handleSubmit={handleSubmit} name={name} setName={setName} />\r\n  );\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading..</h4>\r\n          ) : (\r\n            <h4>Update category</h4>\r\n          )}\r\n          {categoryForm()}\r\n          <hr />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryUpdate;","D:\\React\\ecommerce\\client\\src\\components\\Forms\\CategoryForm.js",[],"D:\\React\\ecommerce\\client\\src\\components\\Forms\\LocalSearch.js",[],{"ruleId":"132","replacedBy":"133"},{"ruleId":"134","replacedBy":"135"},{"ruleId":"136","severity":1,"message":"137","line":52,"column":6,"nodeType":"138","endLine":52,"endColumn":8,"suggestions":"139"},{"ruleId":"136","severity":1,"message":"140","line":89,"column":8,"nodeType":"138","endLine":89,"endColumn":14,"suggestions":"141"},{"ruleId":"136","severity":1,"message":"140","line":32,"column":8,"nodeType":"138","endLine":32,"endColumn":14,"suggestions":"142"},{"ruleId":"143","severity":1,"message":"144","line":10,"column":12,"nodeType":"145","messageId":"146","endLine":10,"endColumn":16},{"ruleId":"143","severity":1,"message":"147","line":8,"column":12,"nodeType":"145","messageId":"146","endLine":8,"endColumn":19},{"ruleId":"136","severity":1,"message":"140","line":31,"column":8,"nodeType":"138","endLine":31,"endColumn":14,"suggestions":"148"},{"ruleId":"143","severity":1,"message":"149","line":2,"column":16,"nodeType":"145","messageId":"146","endLine":2,"endColumn":24},{"ruleId":"136","severity":1,"message":"140","line":15,"column":8,"nodeType":"138","endLine":15,"endColumn":15,"suggestions":"150"},{"ruleId":"143","severity":1,"message":"149","line":2,"column":16,"nodeType":"145","messageId":"146","endLine":2,"endColumn":24},{"ruleId":"136","severity":1,"message":"151","line":17,"column":6,"nodeType":"138","endLine":17,"endColumn":8,"suggestions":"152"},"no-native-reassign",["153"],"no-negated-in-lhs",["154"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["155"],"React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["156"],["157"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'loading' is assigned a value but never used.",["158"],"'Redirect' is defined but never used.",["159"],"React Hook useEffect has a missing dependency: 'loadCategory'. Either include it or remove the dependency array.",["160"],"no-global-assign","no-unsafe-negation",{"desc":"161","fix":"162"},{"desc":"163","fix":"164"},{"desc":"163","fix":"165"},{"desc":"163","fix":"166"},{"desc":"167","fix":"168"},{"desc":"169","fix":"170"},"Update the dependencies array to be: [dispatch]",{"range":"171","text":"172"},"Update the dependencies array to be: [history, user]",{"range":"173","text":"174"},{"range":"175","text":"174"},{"range":"176","text":"174"},"Update the dependencies array to be: [count, history]",{"range":"177","text":"178"},"Update the dependencies array to be: [loadCategory]",{"range":"179","text":"180"},[1762,1764],"[dispatch]",[3122,3128],"[history, user]",[1238,1244],[1032,1038],[462,469],"[count, history]",[593,595],"[loadCategory]"]