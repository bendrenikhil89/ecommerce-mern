[{"D:\\React\\ecommerce\\client\\src\\index.js":"1","D:\\React\\ecommerce\\client\\src\\App.js":"2","D:\\React\\ecommerce\\client\\src\\reportWebVitals.js":"3","D:\\React\\ecommerce\\client\\src\\pages\\Home.js":"4","D:\\React\\ecommerce\\client\\src\\pages\\auth\\Login.js":"5","D:\\React\\ecommerce\\client\\src\\pages\\auth\\Register.js":"6","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\Navbar.js":"7","D:\\React\\ecommerce\\client\\src\\firebase.js":"8","D:\\React\\ecommerce\\client\\src\\pages\\auth\\CompleteRegistration.js":"9","D:\\React\\ecommerce\\client\\src\\Reducers\\index.js":"10","D:\\React\\ecommerce\\client\\src\\Reducers\\userReducer.js":"11","D:\\React\\ecommerce\\client\\src\\pages\\auth\\ForgotPassword.js":"12","D:\\React\\ecommerce\\client\\src\\utils\\auth.js":"13","D:\\React\\ecommerce\\client\\src\\pages\\user\\History.js":"14","D:\\React\\ecommerce\\client\\src\\components\\Routes\\UserRoute.js":"15","D:\\React\\ecommerce\\client\\src\\components\\Routes\\LoadingToRedirect.js":"16","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\UserNav.js":"17","D:\\React\\ecommerce\\client\\src\\pages\\user\\Password.js":"18","D:\\React\\ecommerce\\client\\src\\pages\\user\\Wishlist.js":"19","D:\\React\\ecommerce\\client\\src\\components\\Routes\\AdminRoute.js":"20","D:\\React\\ecommerce\\client\\src\\pages\\admin\\AdminDashboard.js":"21","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\AdminNav.js":"22","D:\\React\\ecommerce\\client\\src\\pages\\admin\\category\\CategoryCreate.js":"23","D:\\React\\ecommerce\\client\\src\\utils\\category.js":"24","D:\\React\\ecommerce\\client\\src\\pages\\admin\\category\\CategoryUpdate.js":"25","D:\\React\\ecommerce\\client\\src\\components\\Forms\\CategoryForm.js":"26","D:\\React\\ecommerce\\client\\src\\components\\Forms\\LocalSearch.js":"27","D:\\React\\ecommerce\\client\\src\\pages\\admin\\sub\\SubCreate.js":"28","D:\\React\\ecommerce\\client\\src\\utils\\sub.js":"29","D:\\React\\ecommerce\\client\\src\\pages\\admin\\sub\\SubUpdate.js":"30","D:\\React\\ecommerce\\client\\src\\pages\\admin\\product\\ProductCreate.js":"31","D:\\React\\ecommerce\\client\\src\\utils\\product.js":"32","D:\\React\\ecommerce\\client\\src\\components\\Forms\\ProductCreateForm.js":"33","D:\\React\\ecommerce\\client\\src\\components\\Forms\\FileUpload.js":"34","D:\\React\\ecommerce\\client\\src\\components\\Cards\\AdminProductCard.js":"35","D:\\React\\ecommerce\\client\\src\\pages\\admin\\product\\AllProduct.js":"36","D:\\React\\ecommerce\\client\\src\\pages\\admin\\product\\ProductUpdate.js":"37","D:\\React\\ecommerce\\client\\src\\components\\Forms\\ProductUpdateForm.js":"38"},{"size":910,"mtime":1607773308948,"results":"39","hashOfConfig":"40"},{"size":3316,"mtime":1608464265223,"results":"41","hashOfConfig":"40"},{"size":362,"mtime":499162500000,"results":"42","hashOfConfig":"40"},{"size":149,"mtime":1607766179656,"results":"43","hashOfConfig":"40"},{"size":4857,"mtime":1608051188534,"results":"44","hashOfConfig":"40"},{"size":1570,"mtime":1607877460221,"results":"45","hashOfConfig":"40"},{"size":1795,"mtime":1608141811645,"results":"46","hashOfConfig":"40"},{"size":803,"mtime":1607843104848,"results":"47","hashOfConfig":"40"},{"size":2552,"mtime":1607879115492,"results":"48","hashOfConfig":"40"},{"size":183,"mtime":1607772940458,"results":"49","hashOfConfig":"40"},{"size":262,"mtime":1607773269659,"results":"50","hashOfConfig":"40"},{"size":1545,"mtime":1607785703991,"results":"51","hashOfConfig":"40"},{"size":643,"mtime":1608052153055,"results":"52","hashOfConfig":"40"},{"size":471,"mtime":1607888591564,"results":"53","hashOfConfig":"40"},{"size":523,"mtime":1607888010850,"results":"54","hashOfConfig":"40"},{"size":660,"mtime":1607888085648,"results":"55","hashOfConfig":"40"},{"size":690,"mtime":1607888712772,"results":"56","hashOfConfig":"40"},{"size":1647,"mtime":1608051224004,"results":"57","hashOfConfig":"40"},{"size":480,"mtime":1607888815027,"results":"58","hashOfConfig":"40"},{"size":1014,"mtime":1608052595135,"results":"59","hashOfConfig":"40"},{"size":1273,"mtime":1608458109506,"results":"60","hashOfConfig":"40"},{"size":1295,"mtime":1608142100320,"results":"61","hashOfConfig":"40"},{"size":3296,"mtime":1608213393321,"results":"62","hashOfConfig":"40"},{"size":941,"mtime":1608380164332,"results":"63","hashOfConfig":"40"},{"size":1790,"mtime":1608211250516,"results":"64","hashOfConfig":"40"},{"size":678,"mtime":1608211191487,"results":"65","hashOfConfig":"40"},{"size":424,"mtime":1608213376715,"results":"66","hashOfConfig":"40"},{"size":4501,"mtime":1608229758754,"results":"67","hashOfConfig":"40"},{"size":745,"mtime":1608226585959,"results":"68","hashOfConfig":"40"},{"size":3040,"mtime":1608231137269,"results":"69","hashOfConfig":"40"},{"size":3287,"mtime":1608487057784,"results":"70","hashOfConfig":"40"},{"size":853,"mtime":1608488359991,"results":"71","hashOfConfig":"40"},{"size":3791,"mtime":1608388308812,"results":"72","hashOfConfig":"40"},{"size":3302,"mtime":1608487292723,"results":"73","hashOfConfig":"40"},{"size":1052,"mtime":1608464272793,"results":"74","hashOfConfig":"40"},{"size":2191,"mtime":1608464630742,"results":"75","hashOfConfig":"40"},{"size":3876,"mtime":1608488278675,"results":"76","hashOfConfig":"40"},{"size":3667,"mtime":1608486985520,"results":"77","hashOfConfig":"40"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},"1jjb977",{"filePath":"81","messages":"82","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"83","usedDeprecatedRules":"80"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"90","usedDeprecatedRules":"80"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"80"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"80"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"107","usedDeprecatedRules":"80"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"80"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"80"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"80"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"129","usedDeprecatedRules":"80"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"80"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"145","usedDeprecatedRules":"80"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"150","usedDeprecatedRules":"80"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"153","usedDeprecatedRules":"80"},{"filePath":"154","messages":"155","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"158","usedDeprecatedRules":"159"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"164","usedDeprecatedRules":"80"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"80"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"169","usedDeprecatedRules":"80"},{"filePath":"170","messages":"171","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"172","usedDeprecatedRules":"80"},"D:\\React\\ecommerce\\client\\src\\index.js",[],["173","174"],"D:\\React\\ecommerce\\client\\src\\App.js",["175"],"import React, {useEffect} from 'react';\nimport {Route, Switch} from 'react-router-dom';\nimport { toast, ToastContainer} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Home from './pages/Home';\nimport Login from './pages/auth/Login';\nimport Register from './pages/auth/Register';\nimport History from './pages/user/History';\nimport CompleteRegistration from './pages/auth/CompleteRegistration';\nimport Navbar from './components/Navbar/Navbar';\nimport UserRoute from './components/Routes/UserRoute';\nimport AdminRoute from './components/Routes/AdminRoute';\n\nimport {auth} from './firebase';\nimport {useDispatch} from 'react-redux';\nimport Forgotpassword from './pages/auth/ForgotPassword';\nimport {currentUser} from './utils/auth';\nimport Password from './pages/user/Password';\nimport WishList from './pages/user/Wishlist';\nimport AdminDashboard from './pages/admin/AdminDashboard';\nimport CategoryCreate from './pages/admin/category/CategoryCreate';\nimport CategoryUpdate from './pages/admin/category/CategoryUpdate';\nimport SubCreate from './pages/admin/sub/SubCreate';\nimport SubUpdate from './pages/admin/sub/SubUpdate';\nimport ProductCreate from './pages/admin/product/ProductCreate';\nimport AllProducts from './pages/admin/product/AllProduct';\nimport ProductUpdate from './pages/admin/product/ProductUpdate';\n\n\nfunction App() {\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged( async (user) => {\n      if(user){\n        const idTokenResult = await user.getIdTokenResult();\n        currentUser(idTokenResult.token)\n        .then(res => {\n          dispatch({\n            type: 'LOGGED_IN_USER',\n            payload: {\n              name: res.data.user.name,\n              email: res.data.user.email,\n              token: idTokenResult.token,\n              role: res.data.user.role,\n              _id: res.data.user._id\n            }\n          })\n        }).catch(err => {\n          toast.error(err.message);\n        })\n        \n      }\n  })\n    return unsubscribe;\n  }, [])\n\n  return (\n    <>\n    <Navbar />\n    <ToastContainer />\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/login\" component={Login} />\n      <Route exact path=\"/register\" component={Register} /> \n      <Route exact path=\"/register/complete\" component={CompleteRegistration} />\n      <Route exact path=\"/forgotpassword\" component={Forgotpassword} />\n      <UserRoute exact path=\"/user/history\" component={History} /> \n      <UserRoute exact path=\"/user/password\" component={Password} /> \n      <UserRoute exact path=\"/user/wishlist\" component={WishList} />\n      <AdminRoute exact path=\"/admin/dashboard\" component={AdminDashboard} />\n      <AdminRoute exact path=\"/admin/category\" component={CategoryCreate} />\n      <AdminRoute exact path=\"/admin/category/:slug\" component={CategoryUpdate} /> \n      <AdminRoute exact path=\"/admin/sub\" component={SubCreate} />\n      <AdminRoute exact path=\"/admin/sub/:slug\" component={SubUpdate} /> \n      <AdminRoute exact path=\"/admin/product\" component={ProductCreate} />\n      <AdminRoute exact path=\"/admin/products\" component={AllProducts} />\n      <AdminRoute exact path=\"/admin/product/:slug\" component={ProductUpdate} /> \n    </Switch>\n    </>\n  );\n}\n\nexport default App;\n","D:\\React\\ecommerce\\client\\src\\reportWebVitals.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\Home.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\auth\\Login.js",["176"],"import React, {useState, useEffect} from 'react';\r\nimport { auth, googleAuthProvider } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { Button } from 'antd';\r\nimport { MailOutlined, GoogleOutlined } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport {createOrUpdateUser} from '../../utils/auth';\r\n\r\nconst Login = ({history}) => {\r\n    const [email, setEmail] = useState('burns121@gmail.com');\r\n    const [password, setPassword] = useState('C00lBurns');\r\n    const [loading, setLoading] = useState(false);\r\n    const {user} = useSelector(state => ({...state}));\r\n    let dispatch = useDispatch();\r\n\r\n    const roleBasedRedirect = res => {\r\n        if(res.data.user.role === 'admin'){\r\n            history.push('/admin/dashboard');\r\n        }\r\n        else {\r\n            history.push('/user/history');\r\n        }\r\n    }\r\n\r\n    const submitHandler = async(e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try{\r\n            const result = await auth.signInWithEmailAndPassword(email, password);\r\n            const {user} = result;\r\n            const idTokenResult = await user.getIdTokenResult();\r\n            createOrUpdateUser(idTokenResult.token)\r\n            .then(res => {\r\n                dispatch({\r\n                    type: 'LOGGED_IN_USER',\r\n                    payload: {\r\n                      name: res.data.user.name,\r\n                      email: res.data.user.email,\r\n                      token: idTokenResult.token,\r\n                      role: res.data.user.role,\r\n                      _id: res.data.user._id\r\n                    }\r\n                })\r\n                roleBasedRedirect(res);\r\n            })\r\n            .catch(err => toast.error(err.message))\r\n            // history.push(\"/\");\r\n        }\r\n        catch(err){\r\n            setLoading(false);\r\n            toast.error(err.message);\r\n        }\r\n    }\r\n\r\n    const googleLoginHandler = async() =>{\r\n        try{\r\n            let result = await auth.signInWithPopup(googleAuthProvider);\r\n            if(result){\r\n                const {user} = result;\r\n                const idTokenResult = await user.getIdTokenResult();\r\n                createOrUpdateUser(idTokenResult.token)\r\n                .then(res => {\r\n                    dispatch({\r\n                        type: 'LOGGED_IN_USER',\r\n                        payload: {\r\n                        name: res.data.user.name,\r\n                        email: res.data.user.email,\r\n                        token: idTokenResult.token,\r\n                        role: res.data.user.role,\r\n                        _id: res.data.user._id\r\n                        }\r\n                    })\r\n                    roleBasedRedirect(res);\r\n                })\r\n                .catch(err => toast.error(err.message))\r\n                // history.push(\"/\");\r\n             }\r\n        }\r\n        catch(err){\r\n            toast.error(err.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            history.push(\"/\") \r\n        }\r\n    }, [user]);\r\n\r\n    const loginForm = () => {\r\n        return <form onSubmit={submitHandler}>\r\n            <div className=\"form-group\">\r\n                <input type=\"email\" className=\"form-control\" value={email} onChange={e => setEmail(e.target.value)} autoFocus placeholder=\"Your email\"/>\r\n            </div>\r\n            <div className=\"form-group\">\r\n                <input type=\"password\" className=\"form-control\" value={password} onChange={e => setPassword(e.target.value)}  placeholder=\"Your password\"/>\r\n            </div>\r\n            <br/>\r\n            <Button \r\n                loading={loading} \r\n                onClick={submitHandler} \r\n                type=\"primary\" \r\n                block \r\n                shape=\"round\" \r\n                className=\"mb-3\" \r\n                icon={<MailOutlined />} \r\n                size=\"large\" \r\n                disabled={!email || password.length < 6}\r\n            >\r\n                Login\r\n            </Button>\r\n            <Button \r\n                onClick={googleLoginHandler} \r\n                type=\"danger\" \r\n                block \r\n                shape=\"round\"\r\n                className=\"mb-3\" \r\n                icon={<GoogleOutlined />} \r\n                size=\"large\" \r\n            >\r\n                Login with Google\r\n            </Button>\r\n            <Link to=\"/forgotpassword\" className=\"text-danger float-right\">Forgot Password</Link>\r\n        </form>\r\n    }\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Login</h4>\r\n                    {loginForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","D:\\React\\ecommerce\\client\\src\\pages\\auth\\Register.js",["177"],"import React, {useState, useEffect} from 'react';\r\nimport { auth } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Register = ({history}) => {\r\n    const [email, setEmail] = useState('')\r\n    const {user} = useSelector(state => ({...state}));\r\n    const submitHandler = async(e) => {\r\n        e.preventDefault();\r\n        const config = {\r\n            url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n            handleCodeInApp: true\r\n        }\r\n        await auth.sendSignInLinkToEmail(email, config);\r\n        toast.success(`Email is sent to ${email}. Click the link to complete your registration.`);\r\n        window.localStorage.setItem('emailForRegistration', email);\r\n        setEmail('');\r\n    }\r\n    const registerForm = () => {\r\n        return <form onSubmit={submitHandler}>\r\n            <input type=\"email\" className=\"form-control\" value={email} onChange={e => setEmail(e.target.value)} autoFocus placeholder=\"Your email\" />\r\n            <br/>\r\n            <button type=\"submit\" className=\"btn btn-raised\">Register</button>\r\n        </form>\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            history.push(\"/\") \r\n        }\r\n    }, [user]);\r\n\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Register</h4>\r\n                    {registerForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\Navbar.js",[],"D:\\React\\ecommerce\\client\\src\\firebase.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\auth\\CompleteRegistration.js",["178"],"import React, {useState, useEffect} from 'react';\r\nimport { auth } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {createOrUpdateUser} from '../../utils/auth';\r\n\r\nconst CompleteRegistration = ({history}) => {\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const {user} = useSelector(state => ({...state}));\r\n    let dispatch = useDispatch();\r\n\r\n    const submitHandler = async(e) => {\r\n        e.preventDefault();\r\n        try{\r\n            const result = await auth.signInWithEmailLink(email, window.location.href);\r\n\r\n            if(result.user.emailVerified){\r\n                window.localStorage.removeItem(\"emailForRegistration\");\r\n                let user = auth.currentUser;\r\n                await user.updatePassword(password);\r\n                const idTokenResult = await user.getIdTokenResult();\r\n                createOrUpdateUser(idTokenResult.token)\r\n                .then(res => {\r\n                    dispatch({\r\n                        type: 'LOGGED_IN_USER',\r\n                        payload: {\r\n                            email: res.data.newUser.email,\r\n                            token: idTokenResult.token,\r\n                            role: res.data.newUser.role,\r\n                            _id: res.data.newUser._id,\r\n                            name: res.data.newUser.name\r\n                        }\r\n                    })\r\n                })\r\n                .catch(err => console.log(err.message))\r\n                history.push(\"/\");\r\n            }\r\n        }\r\n        catch(err){\r\n            toast.error(err.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        setEmail(window.localStorage.getItem('emailForRegistration'));\r\n    }, [])\r\n    const registerForm = () => {\r\n        return <form onSubmit={submitHandler}>\r\n            <input type=\"email\" className=\"form-control\" value={email} disabled />\r\n            <input type=\"password\" className=\"form-control\" value={password} onChange={e => setPassword(e.target.value)} />\r\n            <button type=\"submit\" className=\"btn btn-raised\">Submit</button>\r\n        </form>\r\n    }\r\n    return (\r\n        <div className=\"container p-5\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-md-3\">\r\n                    <h4>Complete Registration</h4>\r\n                    {registerForm()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CompleteRegistration;\r\n","D:\\React\\ecommerce\\client\\src\\Reducers\\index.js",[],"D:\\React\\ecommerce\\client\\src\\Reducers\\userReducer.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\auth\\ForgotPassword.js",["179","180"],"import React, { useState, useEffect } from 'react';\r\nimport { auth } from '../../firebase';\r\nimport { toast} from 'react-toastify';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Forgotpassword = ({history}) => {\r\n    const [email, setEmail] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const {user} = useSelector(state => ({...state}));\r\n    const submitHandler = async (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        try{\r\n            const config = {\r\n                url: process.env.REACT_APP_FORGET_PASSWORD_REDIRECT_URL,\r\n                handleCodeInApp: true\r\n            }\r\n            await auth.sendPasswordResetEmail(email, config);\r\n            toast.success(\"Password reset link has been sent to the registered email address.\")\r\n        }\r\n        catch(err){\r\n            setLoading(false);\r\n            toast.error(err.message);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            history.push(\"/\") \r\n        }\r\n    }, [user]);\r\n    return (\r\n        <div className=\"container col-md-6 offset-md-3 p-5\">\r\n            <h4>Forgot Password</h4>\r\n            <form onSubmit={submitHandler}>\r\n                <input type=\"email\" className=\"form-control\" value={email} onChange={e => setEmail(e.target.value)} placeholder=\"Your email\" autoFocus />\r\n                <br />\r\n                <button className=\"btn btn-raised\" disabled={!email}>Submit</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Forgotpassword;","D:\\React\\ecommerce\\client\\src\\utils\\auth.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\user\\History.js",[],"D:\\React\\ecommerce\\client\\src\\components\\Routes\\UserRoute.js",["181"],"import React from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\n\r\nimport LoadingToRedirect from './LoadingToRedirect';\r\n\r\nexport default function PrivateRoute({component: Component, ...rest}) {\r\n    const {user} = useSelector(state => ({...state}))    \r\n    return (\r\n        <Route\r\n          {...rest}\r\n          render={props => {\r\n            return user && user.token ? <Component {...props} /> : <LoadingToRedirect />\r\n          }}\r\n        ></Route>\r\n    )\r\n}","D:\\React\\ecommerce\\client\\src\\components\\Routes\\LoadingToRedirect.js",["182"],"import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst LoadingToRedirect = () => {\r\n    const [count, setCount] = useState(5);\r\n    let history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            setCount(currCount => --currCount);\r\n        }, 1000); \r\n        count === 1 && history.push('/');\r\n        \r\n        return () => clearInterval(interval);\r\n    }, [count]);\r\n\r\n    return (\r\n        <div className=\"container p-5 text-center\">\r\n            <p>Redirecting you in {count} seconds</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoadingToRedirect;\r\n","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\UserNav.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\user\\Password.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\user\\Wishlist.js",[],"D:\\React\\ecommerce\\client\\src\\components\\Routes\\AdminRoute.js",["183"],"import React, { useEffect, useState} from 'react';\r\nimport {Route, Redirect} from 'react-router-dom';\r\nimport {useSelector} from 'react-redux';\r\nimport {currentAdmin} from '../../utils/auth';\r\n\r\nimport LoadingToRedirect from './LoadingToRedirect';\r\n\r\nexport default function AdminRoute({component: Component, ...rest}) {\r\n    const {user} = useSelector(state => ({...state}));\r\n    const [ok, setOk] = useState(false);\r\n    \r\n    useEffect(() => {\r\n        if(user && user.token){\r\n            currentAdmin(user.token)\r\n            .then(res => {\r\n                console.log(\"CURRENT ADMIN RES\", res);\r\n                setOk(true);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"ADMIN ROUTE ERROR\", err.message)\r\n                setOk(false);\r\n            })\r\n        }\r\n    }, [user]); \r\n    return (\r\n        <Route\r\n          {...rest}\r\n          render={props => {\r\n            return ok ? <Component {...props} /> : <LoadingToRedirect />\r\n          }}\r\n        ></Route>\r\n    )\r\n}","D:\\React\\ecommerce\\client\\src\\pages\\admin\\AdminDashboard.js",["184","185","186"],"import React, {useState, useEffect} from 'react';\r\nimport AdminNav from '../../components/Navbar/AdminNav';\r\nimport {getProductsByCount} from '../../utils/product';\r\nimport AdminProductCard from \"../../components/Cards/AdminProductCard\";\r\nimport AllProducts from '../../pages/admin/product/AllProduct'\r\n\r\nconst AdminDashboard = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    loadAllProducts();\r\n  }, []);\r\n\r\n  const loadAllProducts = () => {\r\n    setLoading(true);\r\n    getProductsByCount(100)\r\n      .then((res) => {\r\n        setProducts(res.data.products);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        setLoading(false);\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading...</h4>\r\n          ) : (\r\n            <h4>Admin Dashboard</h4>\r\n          )}\r\n          <div className=\"row\">\r\n            \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminDashboard;","D:\\React\\ecommerce\\client\\src\\components\\Navbar\\AdminNav.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\admin\\category\\CategoryCreate.js",[],"D:\\React\\ecommerce\\client\\src\\utils\\category.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\admin\\category\\CategoryUpdate.js",["187"],"import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/Navbar/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {getCategory, updateCategory} from \"../../../utils/category\";\r\nimport CategoryForm from '../../../components/Forms/CategoryForm';\r\n\r\nconst CategoryUpdate = ({history, match}) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n\r\n  useEffect(() => {\r\n    loadCategory();  \r\n  }, []);\r\n\r\n   const loadCategory = () =>\r\n     getCategory(match.params.slug).then((c) => setName(c.data.name));\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    updateCategory(match.params.slug, { name }, user.token)\r\n      .then((res) => {\r\n        setLoading(false);\r\n        setName(\"\");\r\n        toast.success(`\"${res.data.name}\" is updated`);\r\n        history.push(\"/admin/category\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        setLoading(false);\r\n        if (err.response.status === 400) toast.error(err.response.data);\r\n      });\r\n  };\r\n\r\n  const categoryForm = () => (\r\n    <CategoryForm handleSubmit={handleSubmit} name={name} setName={setName} />\r\n  );\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className=\"col\">\r\n          {loading ? (\r\n            <h4 className=\"text-danger\">Loading..</h4>\r\n          ) : (\r\n            <h4>Update category</h4>\r\n          )}\r\n          {categoryForm()}\r\n          <hr />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryUpdate;","D:\\React\\ecommerce\\client\\src\\components\\Forms\\CategoryForm.js",[],"D:\\React\\ecommerce\\client\\src\\components\\Forms\\LocalSearch.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\admin\\sub\\SubCreate.js",["188"],"import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/Navbar/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getCategories } from \"../../../utils/category\";\r\nimport { createSub, getSub, removeSub, getSubs } from \"../../../utils/sub\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport CategoryForm from '../../../components/Forms/CategoryForm';\r\nimport LocalSearch from \"../../../components/Forms/LocalSearch\";\r\n\r\nconst SubCreate = () => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n  \r\n    const [name, setName] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n    const [category, setCategory] = useState(\"\");\r\n    const [subs, setSubs] = useState([]);\r\n    // step 1\r\n    const [keyword, setKeyword] = useState(\"\");\r\n  \r\n    useEffect(() => {\r\n      loadCategories();\r\n      loadSubs();\r\n    }, []);\r\n  \r\n    const loadCategories = () =>\r\n      getCategories().then((c) => setCategories(c.data));\r\n  \r\n    const loadSubs = () => getSubs().then((s) => setSubs(s.data));\r\n  \r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      // console.log(name);\r\n      setLoading(true);\r\n      createSub({ name, parent: category }, user.token)\r\n        .then((res) => {\r\n          // console.log(res)\r\n          setLoading(false);\r\n          setName(\"\");\r\n          toast.success(`\"${res.data.name}\" is created`);\r\n          loadSubs();\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setLoading(false);\r\n          if (err.response.status === 400) toast.error(err.response.data);\r\n        });\r\n    };\r\n  \r\n    const handleRemove = async (slug) => {\r\n      // let answer = window.confirm(\"Delete?\");\r\n      // console.log(answer, slug);\r\n      if (window.confirm(\"Delete?\")) {\r\n        setLoading(true);\r\n        removeSub(slug, user.token)\r\n          .then((res) => {\r\n            setLoading(false);\r\n            toast.error(`${res.data.name} deleted`);\r\n            loadSubs();\r\n          })\r\n          .catch((err) => {\r\n            if (err.response.status === 400) {\r\n              setLoading(false);\r\n              toast.error(err.response.data);\r\n            }\r\n          });\r\n      }\r\n    };\r\n  \r\n    // step 4\r\n    const searched = (keyword) => (c) => c.name.toLowerCase().includes(keyword);\r\n  \r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-2\">\r\n            <AdminNav />\r\n          </div>\r\n          <div className=\"col\">\r\n            {loading ? (\r\n              <h4 className=\"text-danger\">Loading..</h4>\r\n            ) : (\r\n              <h4>Create sub category</h4>\r\n            )}\r\n  \r\n            <div className=\"form-group\">\r\n              <label>Parent category</label>\r\n              <select\r\n                name=\"category\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setCategory(e.target.value)}\r\n              >\r\n                <option>Please select</option>\r\n                {categories.length > 0 &&\r\n                  categories.map((c) => (\r\n                    <option key={c._id} value={c._id}>\r\n                      {c.name}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n            </div>\r\n  \r\n            <CategoryForm\r\n              handleSubmit={handleSubmit}\r\n              name={name}\r\n              setName={setName}\r\n            />\r\n  \r\n            {/* step 2 and step 3 */}\r\n            <LocalSearch keyword={keyword} setKeyword={setKeyword} />\r\n  \r\n            {/* step 5 */}\r\n            {subs.filter(searched(keyword)).map((s) => (\r\n              <div className=\"alert alert-secondary\" key={s._id}>\r\n                {s.name}\r\n                <span\r\n                  onClick={() => handleRemove(s.slug)}\r\n                  className=\"btn btn-sm float-right\"\r\n                >\r\n                  <DeleteOutlined className=\"text-danger\" />\r\n                </span>\r\n                <Link to={`/admin/sub/${s.slug}`}>\r\n                  <span className=\"btn btn-sm float-right\">\r\n                    <EditOutlined className=\"text-warning\" />\r\n                  </span>\r\n                </Link>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default SubCreate;","D:\\React\\ecommerce\\client\\src\\utils\\sub.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\admin\\sub\\SubUpdate.js",["189","190","191","192","193","194","195"],"import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/Navbar/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { getCategories } from \"../../../utils/category\";\r\nimport { updateSub, getSub, removeSub, getSubs } from \"../../../utils/sub\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport CategoryForm from '../../../components/Forms/CategoryForm';\r\nimport LocalSearch from \"../../../components/Forms/LocalSearch\";\r\n\r\nconst SubUpdate = ({ match, history }) => {\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n  \r\n    const [name, setName] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n    const [parent, setParent] = useState(\"\");\r\n  \r\n    useEffect(() => {\r\n      loadCategories();\r\n      loadSub();\r\n    }, []);\r\n  \r\n    const loadCategories = () =>\r\n      getCategories().then((c) => setCategories(c.data));\r\n  \r\n    const loadSub = () =>\r\n      getSub(match.params.slug).then((s) => {\r\n        setName(s.data.name);\r\n        setParent(s.data.parent);\r\n      });\r\n  \r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      // console.log(name);\r\n      setLoading(true);\r\n      updateSub(match.params.slug, { name, parent }, user.token)\r\n        .then((res) => {\r\n          // console.log(res)\r\n          setLoading(false);\r\n          setName(\"\");\r\n          toast.success(`\"${res.data.name}\" is updated`);\r\n          history.push(\"/admin/sub\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          setLoading(false);\r\n          if (err.response.status === 400) toast.error(err.response.data);\r\n        });\r\n    };\r\n  \r\n    return (\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-2\">\r\n            <AdminNav />\r\n          </div>\r\n          <div className=\"col\">\r\n            {loading ? (\r\n              <h4 className=\"text-danger\">Loading..</h4>\r\n            ) : (\r\n              <h4>Update sub category</h4>\r\n            )}\r\n  \r\n            <div className=\"form-group\">\r\n              <label>Parent category</label>\r\n              <select\r\n                name=\"category\"\r\n                className=\"form-control\"\r\n                onChange={(e) => setParent(e.target.value)}\r\n              >\r\n                <option>Please select</option>\r\n                {categories.length > 0 &&\r\n                  categories.map((c) => (\r\n                    <option key={c._id} value={c._id} selected={c._id === parent}>\r\n                      {c.name}\r\n                    </option>\r\n                  ))}\r\n              </select>\r\n            </div>\r\n  \r\n            <CategoryForm\r\n              handleSubmit={handleSubmit}\r\n              name={name}\r\n              setName={setName}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n  \r\n  export default SubUpdate;","D:\\React\\ecommerce\\client\\src\\pages\\admin\\product\\ProductCreate.js",["196"],"import React, { useState, useEffect } from \"react\";\r\nimport AdminNav from \"../../../components/Navbar/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { createProduct } from \"../../../utils/product\";\r\nimport ProductCreateForm from \"../../../components/Forms/ProductCreateForm\";\r\nimport { getCategories, getCategorySubs } from \"../../../utils/category\";\r\nimport FileUpload from '../../../components/Forms/FileUpload';\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\n\r\nconst initialState = {\r\n  title: \"\",\r\n  description: \"\",\r\n  price: \"\",\r\n  categories: [],\r\n  category: \"\",\r\n  subs: [],\r\n  shipping: \"\",\r\n  quantity: \"\",\r\n  images: [],\r\n  colors: [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"],\r\n  brands: [\"Apple\", \"Samsung\", \"Microsoft\", \"Lenovo\", \"ASUS\"],\r\n  color: \"\",\r\n  brand: \"\",\r\n};\r\n\r\nconst ProductCreate = () => {\r\n  const [values, setValues] = useState(initialState);\r\n  const [subOptions, setSubOptions] = useState([]);\r\n  const [showSub, setShowSub] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // redux\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, []);\r\n\r\n  const loadCategories = () =>\r\n    getCategories().then((c) => setValues({ ...values, categories: c.data }));\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    createProduct(values, user.token)\r\n      .then((res) => {\r\n        console.log(res);\r\n        window.alert(`\"${res.data.title}\" is created`);\r\n        window.location.reload();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        // if (err.response.status === 400) toast.error(err.response.data);\r\n        toast.error(err.response.data.err);\r\n      });\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value });\r\n    // console.log(e.target.name, \" ----- \", e.target.value);\r\n  };\r\n\r\n  const handleCatagoryChange = (e) => {\r\n    e.preventDefault();\r\n    console.log(\"CLICKED CATEGORY\", e.target.value);\r\n    setValues({ ...values, subs: [], category: e.target.value });\r\n    getCategorySubs(e.target.value).then((res) => {\r\n      console.log(\"SUB OPTIONS ON CATGORY CLICK\", res);\r\n      setSubOptions(res.data);\r\n    });\r\n    setShowSub(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n\r\n        <div className=\"col-md-10\">\r\n          {loading ? (\r\n            <LoadingOutlined className=\"text-danger h1\" />\r\n          ) : (\r\n            <h4>Product create</h4>\r\n          )}\r\n          <hr />\r\n\r\n          <div className=\"p-3\">\r\n            <FileUpload\r\n              values={values}\r\n              setValues={setValues}\r\n              setLoading={setLoading}\r\n            />\r\n          </div>\r\n\r\n          <ProductCreateForm\r\n            handleSubmit={handleSubmit}\r\n            handleChange={handleChange}\r\n            setValues={setValues}\r\n            values={values}\r\n            handleCatagoryChange={handleCatagoryChange}\r\n            subOptions={subOptions}\r\n            showSub={showSub}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductCreate;","D:\\React\\ecommerce\\client\\src\\utils\\product.js",[],"D:\\React\\ecommerce\\client\\src\\components\\Forms\\ProductCreateForm.js",["197","198","199","200","201"],"import React from \"react\";\r\nimport { Select } from \"antd\";\r\n\r\nconst { Option } = Select;\r\n\r\nconst ProductCreateForm = ({\r\n  handleSubmit,\r\n  handleChange,\r\n  setValues,\r\n  values,\r\n  handleCatagoryChange,\r\n  subOptions,\r\n  showSub,\r\n}) => {\r\n  // destructure\r\n  const {\r\n    title,\r\n    description,\r\n    price,\r\n    categories,\r\n    category,\r\n    subs,\r\n    shipping,\r\n    quantity,\r\n    images,\r\n    colors,\r\n    brands,\r\n    color,\r\n    brand,\r\n  } = values;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <label>Title</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"title\"\r\n          className=\"form-control\"\r\n          value={title}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Description</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"description\"\r\n          className=\"form-control\"\r\n          value={description}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Price</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"price\"\r\n          className=\"form-control\"\r\n          value={price}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Shipping</label>\r\n        <select\r\n          name=\"shipping\"\r\n          className=\"form-control\"\r\n          onChange={handleChange}\r\n        >\r\n          <option>Please select</option>\r\n          <option value=\"No\">No</option>\r\n          <option value=\"Yes\">Yes</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Quantity</label>\r\n        <input\r\n          type=\"number\"\r\n          name=\"quantity\"\r\n          className=\"form-control\"\r\n          value={quantity}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Color</label>\r\n        <select name=\"color\" className=\"form-control\" onChange={handleChange}>\r\n          <option>Please select</option>\r\n          {colors.map((c) => (\r\n            <option key={c} value={c}>\r\n              {c}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Brand</label>\r\n        <select name=\"brand\" className=\"form-control\" onChange={handleChange}>\r\n          <option>Please select</option>\r\n          {brands.map((b) => (\r\n            <option key={b} value={b}>\r\n              {b}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div className=\"form-group\">\r\n        <label>Category</label>\r\n        <select\r\n          name=\"category\"\r\n          className=\"form-control\"\r\n          onChange={handleCatagoryChange}\r\n        >\r\n          <option>Please select</option>\r\n          {categories.length > 0 &&\r\n            categories.map((c) => (\r\n              <option key={c._id} value={c._id}>\r\n                {c.name}\r\n              </option>\r\n            ))}\r\n        </select>\r\n      </div>\r\n\r\n      {showSub && (\r\n        <div>\r\n          <label>Sub Categories</label>\r\n          <Select\r\n            mode=\"multiple\"\r\n            style={{ width: \"100%\" }}\r\n            placeholder=\"Please select\"\r\n            value={subs}\r\n            onChange={(value) => setValues({ ...values, subs: value })}\r\n          >\r\n            {subOptions.length &&\r\n              subOptions.map((s) => (\r\n                <Option key={s._id} value={s._id}>\r\n                  {s.name}\r\n                </Option>\r\n              ))}\r\n          </Select>\r\n        </div>\r\n      )}\r\n\r\n      <br />\r\n      <button className=\"btn btn-outline-info\">Save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProductCreateForm;",["202","203"],"D:\\React\\ecommerce\\client\\src\\components\\Forms\\FileUpload.js",[],"D:\\React\\ecommerce\\client\\src\\components\\Cards\\AdminProductCard.js",["204"],"import React from \"react\";\r\nimport { Card } from \"antd\";\r\nimport laptop from \"../../images/laptop.png\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst AdminProductCard = ({ product, handleRemove }) => {\r\n  // destructure\r\n  const { title, description, images, slug } = product;\r\n\r\n  return (\r\n    <Card\r\n      cover={\r\n        <img\r\n          src={images && images.length ? images[0].url : laptop}\r\n          style={{ height: \"150px\", objectFit: \"cover\" }}\r\n          className=\"p-1\"\r\n        />\r\n      }\r\n      actions={[\r\n        <Link to={`/admin/product/${slug}`}>\r\n          <EditOutlined className=\"text-warning\" />\r\n        </Link>,\r\n        <DeleteOutlined\r\n          onClick={() => handleRemove(slug)}\r\n          className=\"text-danger\"\r\n        />,\r\n      ]}\r\n    >\r\n      <Meta\r\n        title={title}\r\n        description={`${description && description.substring(0, 40)}...`}\r\n      />\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default AdminProductCard;","D:\\React\\ecommerce\\client\\src\\pages\\admin\\product\\AllProduct.js",[],"D:\\React\\ecommerce\\client\\src\\pages\\admin\\product\\ProductUpdate.js",["205","206","207","208"],"import React, {useState, useEffect} from 'react';\nimport AdminNav from '../../../components/Navbar/AdminNav';\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { updateProduct, getProduct } from \"../../../utils/product\";\nimport { getCategories, getCategorySubs } from \"../../../utils/category\";\nimport FileUpload from \"../../../components/Forms/FileUpload\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\nimport ProductUpdateForm from \"../../../components/Forms/ProductUpdateForm\";\n\nconst initialState = {\n  title: \"\",\n  description: \"\",\n  price: \"\",\n  category: \"\",\n  subs: [],\n  shipping: \"\",\n  quantity: \"\",\n  images: [],\n  colors: [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"],\n  brands: [\"Apple\", \"Samsung\", \"Microsoft\", \"Lenovo\", \"ASUS\"],\n  color: \"\",\n  brand: \"\",\n};\n\nconst ProductUpdate = ({ match, history }) => {\n  // state\n  const [values, setValues] = useState(initialState);\n  const [categories, setCategories] = useState([]);\n  const [subOptions, setSubOptions] = useState([]);\n  const [arrayOfSubs, setArrayOfSubs] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const { user } = useSelector((state) => ({ ...state }));\n  // router\n  const { slug } = match.params;\n\n  useEffect(() => {\n    loadProduct();\n    loadCategories();\n  }, []);\n\n  const loadProduct = () => {\n    getProduct(slug).then((p) => {\n      setValues({ ...values, ...p.data });\n      getCategorySubs(p.data.category._id).then((res) => {\n        setSubOptions(res.data);\n      });\n      \n      let arr = [];\n      p.data.subs.map((s) => {\n        arr.push(s._id);\n      });\n      console.log(\"ARR\", arr);\n      setArrayOfSubs((prev) => arr);\n    });\n  };\n\n  const loadCategories = () =>\n    getCategories().then((c) => {\n      console.log(\"GET CATEGORIES IN UPDATE PRODUCT\", c.data);\n      setCategories(c.data);\n    });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    values.sub = arrayOfSubs;\n    values.category = selectedCategory ? selectedCategory : values.category;\n    updateProduct(slug, values, user.token)\n    .then(res => {\n      setLoading(false);\n      toast.success(`${res.data.title} is updated`);\n      history.push(\"/admin/products\");\n    })\n    .catch(err => {\n      setLoading(false);\n      toast.error(err.response.data.err);\n    })\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  };\n\n  const handleCategoryChange = (e) => {\n    e.preventDefault();\n    setValues({ ...values, subs: []});\n    setSelectedCategory(e.target.value);\n    getCategorySubs(e.target.value).then((res) => {\n      console.log(\"SUB OPTIONS ON CATGORY CLICK\", res);\n      setSubOptions(res.data);\n    });\n\n    \n    if(values.category._id === e.target.value){\n      loadProduct();\n    } \n    setArrayOfSubs([]);\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n\n        <div className=\"col-md-10\">\n          <h4>Product update</h4>\n          <div className=\"p-3\">\n            <FileUpload\n              values={values}\n              setValues={setValues}\n              setLoading={setLoading}\n            />\n          </div>\n          <br />\n          <ProductUpdateForm\n            handleSubmit={handleSubmit}\n            handleChange={handleChange}\n            setValues={setValues}\n            values={values}\n            handleCategoryChange={handleCategoryChange}\n            categories={categories}\n            subOptions={subOptions}\n            arrayOfSubs={arrayOfSubs}\n            setArrayOfSubs={setArrayOfSubs}\n            selectedCategory={selectedCategory}\n          />\n          <hr />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductUpdate;","D:\\React\\ecommerce\\client\\src\\components\\Forms\\ProductUpdateForm.js",["209","210"],"import React from \"react\";\nimport { Select } from \"antd\";\n\nconst { Option } = Select;\n\nconst ProductUpdateForm = ({\n  handleSubmit,\n  handleChange,\n  setValues,\n  values,\n  handleCategoryChange,\n  categories,\n  subOptions,\n  arrayOfSubs,\n  setArrayOfSubs,\n  selectedCategory\n}) => {\n  const {\n    title,\n    description,\n    price,\n    category,\n    subs,\n    shipping,\n    quantity,\n    images,\n    colors,\n    brands,\n    color,\n    brand,\n  } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label>Title</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={title}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Description</label>\n        <input\n          type=\"text\"\n          name=\"description\"\n          className=\"form-control\"\n          value={description}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Price</label>\n        <input\n          type=\"number\"\n          name=\"price\"\n          className=\"form-control\"\n          value={price}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Shipping</label>\n        <select\n          value={shipping === \"Yes\" ? \"Yes\" : \"No\"}\n          name=\"shipping\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          <option value=\"No\">No</option>\n          <option value=\"Yes\">Yes</option>\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Quantity</label>\n        <input\n          type=\"number\"\n          name=\"quantity\"\n          className=\"form-control\"\n          value={quantity}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Color</label>\n        <select\n          value={color}\n          name=\"color\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          {colors.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Brand</label>\n        <select\n          value={brand}\n          name=\"brand\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          {brands.map((b) => (\n            <option key={b} value={b}>\n              {b}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Category</label>\n        <select\n          name=\"category\"\n          className=\"form-control\"\n          onChange={handleCategoryChange}\n          value={selectedCategory ? selectedCategory : category._id}\n        >\n          {categories.length > 0 &&\n            categories.map((c) => (\n              <option key={c._id} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      <div>\n        <label>Sub Categories</label>\n        <Select\n          mode=\"multiple\"\n          style={{ width: \"100%\" }}\n          placeholder=\"Please select\"\n          value={arrayOfSubs}\n          onChange={(value) => setArrayOfSubs(value)}\n        >\n          {subOptions.length &&\n            subOptions.map((s) => (\n              <Option key={s._id} value={s._id}>\n                {s.name}\n              </Option>\n            ))}\n        </Select>\n      </div>\n\n      <br />\n      <button className=\"btn btn-outline-info\">Save</button>\n    </form>\n  );\n};\n\nexport default ProductUpdateForm;",{"ruleId":"211","replacedBy":"212"},{"ruleId":"213","replacedBy":"214"},{"ruleId":"215","severity":1,"message":"216","line":57,"column":6,"nodeType":"217","endLine":57,"endColumn":8,"suggestions":"218"},{"ruleId":"215","severity":1,"message":"219","line":89,"column":8,"nodeType":"217","endLine":89,"endColumn":14,"suggestions":"220"},{"ruleId":"215","severity":1,"message":"219","line":32,"column":8,"nodeType":"217","endLine":32,"endColumn":14,"suggestions":"221"},{"ruleId":"222","severity":1,"message":"223","line":10,"column":12,"nodeType":"224","messageId":"225","endLine":10,"endColumn":16},{"ruleId":"222","severity":1,"message":"226","line":8,"column":12,"nodeType":"224","messageId":"225","endLine":8,"endColumn":19},{"ruleId":"215","severity":1,"message":"219","line":31,"column":8,"nodeType":"217","endLine":31,"endColumn":14,"suggestions":"227"},{"ruleId":"222","severity":1,"message":"228","line":2,"column":16,"nodeType":"224","messageId":"225","endLine":2,"endColumn":24},{"ruleId":"215","severity":1,"message":"219","line":15,"column":8,"nodeType":"217","endLine":15,"endColumn":15,"suggestions":"229"},{"ruleId":"222","severity":1,"message":"228","line":2,"column":16,"nodeType":"224","messageId":"225","endLine":2,"endColumn":24},{"ruleId":"222","severity":1,"message":"230","line":4,"column":8,"nodeType":"224","messageId":"225","endLine":4,"endColumn":24},{"ruleId":"222","severity":1,"message":"231","line":5,"column":8,"nodeType":"224","messageId":"225","endLine":5,"endColumn":19},{"ruleId":"222","severity":1,"message":"232","line":8,"column":10,"nodeType":"224","messageId":"225","endLine":8,"endColumn":18},{"ruleId":"215","severity":1,"message":"233","line":17,"column":6,"nodeType":"217","endLine":17,"endColumn":8,"suggestions":"234"},{"ruleId":"222","severity":1,"message":"235","line":6,"column":21,"nodeType":"224","messageId":"225","endLine":6,"endColumn":27},{"ruleId":"222","severity":1,"message":"236","line":6,"column":29,"nodeType":"224","messageId":"225","endLine":6,"endColumn":38},{"ruleId":"222","severity":1,"message":"237","line":6,"column":40,"nodeType":"224","messageId":"225","endLine":6,"endColumn":47},{"ruleId":"222","severity":1,"message":"238","line":7,"column":10,"nodeType":"224","messageId":"225","endLine":7,"endColumn":14},{"ruleId":"222","severity":1,"message":"239","line":8,"column":10,"nodeType":"224","messageId":"225","endLine":8,"endColumn":22},{"ruleId":"222","severity":1,"message":"240","line":8,"column":24,"nodeType":"224","messageId":"225","endLine":8,"endColumn":38},{"ruleId":"222","severity":1,"message":"241","line":10,"column":8,"nodeType":"224","messageId":"225","endLine":10,"endColumn":19},{"ruleId":"215","severity":1,"message":"242","line":23,"column":8,"nodeType":"217","endLine":23,"endColumn":10,"suggestions":"243"},{"ruleId":"215","severity":1,"message":"244","line":38,"column":6,"nodeType":"217","endLine":38,"endColumn":8,"suggestions":"245"},{"ruleId":"222","severity":1,"message":"246","line":21,"column":5,"nodeType":"224","messageId":"225","endLine":21,"endColumn":13},{"ruleId":"222","severity":1,"message":"247","line":23,"column":5,"nodeType":"224","messageId":"225","endLine":23,"endColumn":13},{"ruleId":"222","severity":1,"message":"248","line":25,"column":5,"nodeType":"224","messageId":"225","endLine":25,"endColumn":11},{"ruleId":"222","severity":1,"message":"249","line":28,"column":5,"nodeType":"224","messageId":"225","endLine":28,"endColumn":10},{"ruleId":"222","severity":1,"message":"250","line":29,"column":5,"nodeType":"224","messageId":"225","endLine":29,"endColumn":10},{"ruleId":"211","replacedBy":"251"},{"ruleId":"213","replacedBy":"252"},{"ruleId":"253","severity":1,"message":"254","line":16,"column":9,"nodeType":"255","endLine":20,"endColumn":11},{"ruleId":"222","severity":1,"message":"256","line":8,"column":10,"nodeType":"224","messageId":"225","endLine":8,"endColumn":25},{"ruleId":"222","severity":1,"message":"226","line":33,"column":10,"nodeType":"224","messageId":"225","endLine":33,"endColumn":17},{"ruleId":"215","severity":1,"message":"257","line":42,"column":6,"nodeType":"217","endLine":42,"endColumn":8,"suggestions":"258"},{"ruleId":"259","severity":1,"message":"260","line":52,"column":27,"nodeType":"261","messageId":"262","endLine":52,"endColumn":29},{"ruleId":"222","severity":1,"message":"263","line":23,"column":5,"nodeType":"224","messageId":"225","endLine":23,"endColumn":9},{"ruleId":"222","severity":1,"message":"248","line":26,"column":5,"nodeType":"224","messageId":"225","endLine":26,"endColumn":11},"no-native-reassign",["264"],"no-negated-in-lhs",["265"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["266"],"React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.",["267"],["268"],"no-unused-vars","'user' is assigned a value but never used.","Identifier","unusedVar","'loading' is assigned a value but never used.",["269"],"'Redirect' is defined but never used.",["270"],"'AdminProductCard' is defined but never used.","'AllProducts' is defined but never used.","'products' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'loadCategory'. Either include it or remove the dependency array.",["271"],"'getSub' is defined but never used.","'removeSub' is defined but never used.","'getSubs' is defined but never used.","'Link' is defined but never used.","'EditOutlined' is defined but never used.","'DeleteOutlined' is defined but never used.","'LocalSearch' is defined but never used.","React Hook useEffect has a missing dependency: 'loadSub'. Either include it or remove the dependency array.",["272"],"React Hook useEffect has a missing dependency: 'loadCategories'. Either include it or remove the dependency array.",["273"],"'category' is assigned a value but never used.","'shipping' is assigned a value but never used.","'images' is assigned a value but never used.","'color' is assigned a value but never used.","'brand' is assigned a value but never used.",["264"],["265"],"jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'LoadingOutlined' is defined but never used.","React Hook useEffect has a missing dependency: 'loadProduct'. Either include it or remove the dependency array.",["274"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","'subs' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"275","fix":"276"},{"desc":"277","fix":"278"},{"desc":"277","fix":"279"},{"desc":"277","fix":"280"},{"desc":"281","fix":"282"},{"desc":"283","fix":"284"},{"desc":"285","fix":"286"},{"desc":"287","fix":"288"},{"desc":"289","fix":"290"},"Update the dependencies array to be: [dispatch]",{"range":"291","text":"292"},"Update the dependencies array to be: [history, user]",{"range":"293","text":"294"},{"range":"295","text":"294"},{"range":"296","text":"294"},"Update the dependencies array to be: [count, history]",{"range":"297","text":"298"},"Update the dependencies array to be: [loadCategory]",{"range":"299","text":"300"},"Update the dependencies array to be: [loadSub]",{"range":"301","text":"302"},"Update the dependencies array to be: [loadCategories]",{"range":"303","text":"304"},"Update the dependencies array to be: [loadProduct]",{"range":"305","text":"306"},[2058,2060],"[dispatch]",[3122,3128],"[history, user]",[1238,1244],[1032,1038],[462,469],"[count, history]",[593,595],"[loadCategory]",[964,966],"[loadSub]",[1219,1221],"[loadCategories]",[1377,1379],"[loadProduct]"]